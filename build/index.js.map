{"version":3,"file":"index.js","sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 37e4ccf03b336ca4d204","webpack:///app/simple-bar-chart/styles/barStyles.js","webpack:///app/simple-bar-chart/utils.js","webpack:///external \"react\"","webpack:///app/simple-bar-chart/SimpleBarChart.js","webpack:///app/simple-bar-chart/components/Axis.js","webpack:///app/simple-bar-chart/styles/axisStyle.js","webpack:///app/simple-bar-chart/styles/barContainerStyles.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-simple-bar-chart\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"react-simple-bar-chart\"] = factory(root[\"react\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 37e4ccf03b336ca4d204","import {Optional, isObject} from '../utils';\n\nconst STYLES = {\n  position: 'absolute',\n  bottom: 0,\n  left: 0,\n  transition: 'height .3s ease, width .3s ease'\n};\n\nexport const LABEL_STYLES = {\n  position: 'absolute',\n  bottom: -25,\n  height: 20,\n  textAlign: 'center',\n  fontSize: 12,\n  fontFamily: 'Roboto, Arial',\n  whiteSpace: 'nowrap',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis'\n};\n\nexport default function getBarStyles({orientation, color}, barWidth, item) {\n  if (isVertical(orientation)) {\n    return {\n      ...STYLES,\n      height: `${item.percent}%`,\n      width: barWidth,\n      background: getBarColor(item, color)\n    };\n  }\n  return {\n    ...STYLES,\n    height: barWidth,\n    width: `${item.percent}%`,\n    background: getBarColor(item, color)\n  };\n}\n\nexport function getBarWidth({margin, singleBarWidth, orientation}, {width, height, data}) {\n  const allBarsWidth = ((isVertical(orientation) ? width : height) - data.length * margin);\n  const defaultBarWidth = (allBarsWidth / data.length);\n  return Optional(singleBarWidth).or(defaultBarWidth);\n}\n\nexport function isVertical(orientation) {\n  return orientation === 'vertical';\n}\n\nfunction getBarColor(item, color) {\n  return isObject(item) ? (item.color || color) : color;\n}\n\n\n// WEBPACK FOOTER //\n// app/simple-bar-chart/styles/barStyles.js","export function isObject(object) {\n  return typeof object === 'object';\n}\n\nexport function isDefined(object) {\n  return typeof object !== 'undefined' && object !== null;\n}\n\nexport function Optional(value) {\n  return {\n    or: orValue => isDefined(value) ? value : orValue,\n    isPresent: () => isDefined(value),\n    get: () => value\n  };\n}\n\n\n// WEBPACK FOOTER //\n// app/simple-bar-chart/utils.js","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 2\n// module chunks = 0","import React, {Component} from 'react';\n\nimport Axis from './components/Axis';\n\nimport {Optional, isObject, isDefined} from './utils';\nimport getBarContainerStyles from './styles/barContainerStyles';\nimport getBarStyles, {getBarWidth, LABEL_STYLES} from './styles/barStyles';\n\nclass SimpleBarChart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {min: 0, max: 0, data: []};\n    this.calculateChartSize = this.calculateChartSize.bind(this);\n  }\n  componentDidMount() {\n    this.buildData(this.props.data);\n    this.calculateChartSize();\n    window.addEventListener('resize', this.calculateChartSize);\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.data !== this.props.data) {\n      this.buildData(nextProps.data);\n    }\n  }\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.calculateChartSize);\n  }\n  buildData(newData = []) {\n    const result = this.buildObjectsList(newData);\n    const max = this.getMax(result);\n    const min = this.getMin(result);\n    const data = this.calculatePercents(result, max);\n    this.setState({\n      min, max, data\n    });\n  }\n  buildObjectsList(data) {\n    return data.map(item => isObject(item) ? item : {value: item});\n  }\n  getMax(data) {\n    return data.reduce((max, item) => item.value > max ? item.value : max, 0);\n  }\n  getMin(data) {\n    return data.reduce((min, item) => item.value < min ? item.value : min, 0);\n  }\n  calculatePercents(data, max) {\n    return data.map(item => ({percent: parseInt(100 * item.value / max), ...item}));\n  }\n  calculateChartSize() {\n    const {width, height} = this.props;\n    const size = this.chart.getBoundingClientRect();\n    this.setState({\n      width: Optional(width).or(size.width),\n      height: Optional(height).or(size.height)\n    });\n  }\n  render() {\n    const {className = '', enableAxis} = this.props;\n    const {data, width, height} = this.state;\n    const chartStyles = {\n      width, height,\n      position: 'relative'\n    };\n\n    return (\n            <div className={`simple-bar-chart ${className}`} style={chartStyles}\n                 ref={chart => this.chart = chart}>\n                {enableAxis ? <Axis {...this.props} {...this.state}/> : null}\n                {data.map((item, index) => this.renderBar(item, index))}\n            </div>\n            );\n  }\n  renderBar(item, index) {\n    const barWidth = getBarWidth(this.props, this.state);\n    const barContainerStyles = getBarContainerStyles(this.props, barWidth, index);\n    const barStyles = getBarStyles(this.props, barWidth, item);\n    const {margin, labelColor} = this.props;\n    const labelStyles = {\n      ...LABEL_STYLES,\n      width: `calc(100% + ${margin}px)`,\n      left: -1 * parseInt(margin / 2),\n      color: labelColor\n    };\n\n\n    return (\n            <div className=\"sbc-bar-container\" \n                 style={barContainerStyles}\n                 key={index}>\n                <div className=\"sbc-bar\" style={barStyles} title={item.label}>\n                    {isDefined(item.label) ? <span style={labelStyles} title={item.label}>{item.label}</span> : null}            \n                </div>\n            </div>\n            );\n  }\n}\n\nSimpleBarChart.defaultProps = {\n  data: [],\n  color: '#7FB2E5',\n  margin: 5,\n  orientation: 'vertical',\n  xAxisAmount: 4,\n  axisColor: '#DFDFDF',\n  axisValueColor: '#787878',\n  enableAxis: true,\n  labelColor: '#787878'\n};\n\nexport default SimpleBarChart;\n\n\n// WEBPACK FOOTER //\n// app/simple-bar-chart/SimpleBarChart.js","import React, {Component} from 'react';\n\nimport {AXIS_STYLES, VALUE_STYLES} from '../styles/axisStyle';\n\nexport default class Axis extends Component {\n\n  getAxis() {\n    const {xAxisAmount, width, axisColor} = this.props;\n    const sum = this.sumDataValues();\n    const axisInterval = parseInt(sum / xAxisAmount);\n    let axis = [];\n    for (let x = 1; x <= xAxisAmount; x += 1) {\n      axis.push({\n        value: axisInterval * x,\n        styles: {\n          ...AXIS_STYLES,\n          bottom: `${parseInt(axisInterval * x * 100 / sum)}%`,\n          width: width,\n          background: axisColor\n        }\n      });\n    }\n    return axisInterval > 0 ? axis : [];\n  }\n  sumDataValues() {\n    return this.props.data.reduce((sum, item) => sum += item.value, 0);\n  }\n\n  render() {\n    const {axisValueColor} = this.props;\n    const axis = this.getAxis();\n    const valueStyles = {\n      ...VALUE_STYLES,\n      color: axisValueColor\n    };\n    return (\n            <div>\n                {axis.map((axis, index) => (\n                                    <div className=\"sbc-bar-axis\" \n                                         style={axis.styles} \n                                         key={index}>\n                                        <span style={valueStyles}>{axis.value}</span>\n                                    </div>)\n                          )}\n            </div>\n            );\n  }\n}\n\n\n// WEBPACK FOOTER //\n// app/simple-bar-chart/components/Axis.js","export const VALUE_STYLES = {\n  position: 'absolute',\n  display: 'block',\n  width: 30,\n  top: -8,\n  left: -35,\n  textAlign: 'right',\n  fontFamily: 'Roboto, Arial',\n  fontSize: 10\n};\n\nexport const AXIS_STYLES = {\n  position: 'absolute',\n  left: 0,\n  height: 1\n};\n\n\n// WEBPACK FOOTER //\n// app/simple-bar-chart/styles/axisStyle.js","import {isVertical} from './barStyles';\n\nconst STYLES = {\n  position: 'absolute',\n  transition: 'width .3s ease, height .3s ease'\n};\n\nexport default function getBarContainerStyles(props, barWidth, index) {\n  const {margin, orientation} = props;\n  const chartLeftMargin = margin / 2;\n\n  if (isVertical(orientation)) {\n    return {\n      ...STYLES,\n      height: '100%',\n      bottom: 0,\n      left: index === 0 ? chartLeftMargin : ((barWidth + margin) * index + chartLeftMargin)\n    };\n  }\n  return {\n    ...STYLES,\n    width: '100%',\n    top: (barWidth + margin) * index,\n    left: 0\n  };\n}\n\n\n// WEBPACK FOOTER //\n// app/simple-bar-chart/styles/barContainerStyles.js"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;;;AC3CA;AAiBA;AAMA;AACA;AA7CA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AACA;AAWA;AAAA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAhDA;AACA;AAMA;AACA;AAWA;AACA;AAgBA;AACA;AAKA;AACA;AAGA;;;;;;;;;;;;;;;;;;AChDA;AAIA;AAIA;AARA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AAKA;;;;;;;;AAdA;AACA;AAGA;AACA;AAGA;;;;;;;;;ACRA;;;;;;;;;;;;;;;;;ACAA;AACA;;;AACA;AACA;;;AACA;AACA;AAAA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AAHA;AAIA;AACA;;;AAAA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;;;AACA;AACA;AAAA;AAAA;AACA;;;AACA;AACA;AAAA;AAAA;AACA;;;AACA;AACA;AAAA;AAAA;AACA;;;AACA;AACA;AAAA;AAAA;AACA;;;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAFA;AACA;AAIA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAHA;AAMA;;;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AACA;AAIA;AAEA;AACA;AACA;AAJA;AACA;AAOA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAHA;AAQA;;;;AAtFA;AACA;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AACA;AAWA;;;;;;;;;AArGA;AACA;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;;;AACA;AACA;;;;;;;;;AACA;;;;;;;;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAJA;AAFA;AASA;AACA;AACA;;;AACA;AACA;AAAA;AAAA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AADA;AADA;AAUA;;;;AA1CA;AACA;AADA;;;;;;;;AAAA;;;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AAUA;AACA;AACA;AACA;AAHA;;;;;;;;AAXA;AACA;AAUA;;;;;;;;;;;;;;;;;;ACJA;AACA;AARA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAEA;AACA;AACA;AAJA;AAMA;;;;;;;;AAvBA;AACA;AAIA;;;;;;;;;;;;;;A","sourceRoot":""}